<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Student IMS</title>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700;800;900&display=swap" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: #07091a; font-family: 'Sora', sans-serif; }
    @keyframes slideUp  { from { opacity:0; transform:translateY(16px); } to { opacity:1; transform:translateY(0); } }
    @keyframes fadeIn   { from { opacity:0; } to { opacity:1; } }
    @keyframes scaleIn  { from { opacity:0; transform:scale(0.95); } to { opacity:1; transform:scale(1); } }
    input:focus, select:focus { border-color: rgba(0,229,160,0.5) !important; outline: none; }
    tr:hover td { background: rgba(0,229,160,0.04); }
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: #07091a; }
    ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    /* â”€â”€â”€ Constants â”€â”€â”€ */
    const COURSES = [
      "BS Computer Science","BS Information Technology","BS Engineering",
      "BS Nursing","BS Education","BS Business Administration",
      "BS Accountancy","BS Psychology"
    ];
    const YEAR_LEVELS = ["1st Year","2nd Year","3rd Year","4th Year","5th Year"];
    const YEAR_COLORS  = {
      "1st Year":"#4dabf7","2nd Year":"#00e5a0",
      "3rd Year":"#ffd43b","4th Year":"#ff922b","5th Year":"#f783ac"
    };
    const INITIAL_STUDENTS = [
      { id:"2024-0001", name:"Maria Santos",   course:"BS Computer Science",   year:"2nd Year", age:19 },
      { id:"2024-0002", name:"Juan dela Cruz", course:"BS Engineering",         year:"3rd Year", age:20 },
      { id:"2024-0003", name:"Ana Reyes",      course:"BS Nursing",             year:"1st Year", age:18 },
    ];

    const genId = () => `${new Date().getFullYear()}-${Math.floor(1000 + Math.random()*9000)}`;

    /* â”€â”€â”€ Toast â”€â”€â”€ */
    function Toast({ msg, type, onClose }) {
      useEffect(() => { const t = setTimeout(onClose, 3000); return () => clearTimeout(t); }, []);
      const bg = type === "error" ? "#ff4d6d" : type === "info" ? "#4dabf7" : "#00e5a0";
      return (
        <div style={{
          position:"fixed", bottom:28, right:28, zIndex:9999,
          background:bg, color:"#0a0f1e", padding:"12px 22px", borderRadius:12,
          fontFamily:"'Sora',sans-serif", fontWeight:700, fontSize:14,
          boxShadow:"0 8px 32px rgba(0,0,0,0.35)", animation:"slideUp 0.3s ease"
        }}>{msg}</div>
      );
    }

    /* â”€â”€â”€ Main App â”€â”€â”€ */
    function App() {
      /* State */
      const [page,       setPage]       = useState("login");     // login | signup | dashboard
      const [tab,        setTab]        = useState("list");
      const [students,   setStudents]   = useState(INITIAL_STUDENTS);
      const [accounts,   setAccounts]   = useState([{ username:"admin", password:"admin123", name:"Administrator" }]);
      const [currentUser,setCurrentUser]= useState(null);
      const [search,     setSearch]     = useState("");
      const [modal,      setModal]      = useState(null);        // null | add | edit | delete | view
      const [selected,   setSelected]   = useState(null);
      const [toast,      setToast]      = useState(null);

      const [loginForm,  setLoginForm]  = useState({ username:"", password:"" });
      const [signupForm, setSignupForm] = useState({ name:"", username:"", password:"", confirm:"" });
      const [addForm,    setAddForm]    = useState({ id:"", name:"", course:COURSES[0], year:YEAR_LEVELS[0], age:"" });
      const [editForm,   setEditForm]   = useState({});

      const toast$ = (msg, type="success") => setToast({ msg, type });

      /* Auth */
      const handleLogin = () => {
        const acc = accounts.find(a => a.username === loginForm.username && a.password === loginForm.password);
        if (acc) { setCurrentUser(acc); setPage("dashboard"); setLoginForm({ username:"", password:"" }); }
        else toast$("Invalid credentials","error");
      };

      const handleSignup = () => {
        if (!signupForm.name || !signupForm.username || !signupForm.password) return toast$("Fill all fields","error");
        if (signupForm.password !== signupForm.confirm) return toast$("Passwords don't match","error");
        if (accounts.find(a => a.username === signupForm.username))         return toast$("Username already taken","error");
        setAccounts([...accounts, { username:signupForm.username, password:signupForm.password, name:signupForm.name }]);
        toast$("Account created! Please log in.");
        setPage("login");
        setSignupForm({ name:"", username:"", password:"", confirm:"" });
      };

      /* CRUD */
      const handleAdd = () => {
        if (!addForm.id || !addForm.name || !addForm.age) return toast$("Fill all required fields","error");
        if (students.find(s => s.id === addForm.id))       return toast$("Student ID already exists","error");
        if (isNaN(addForm.age) || addForm.age < 15 || addForm.age > 60) return toast$("Enter a valid age (15â€“60)","error");
        setStudents([...students, { ...addForm, age:Number(addForm.age) }]);
        setModal(null);
        toast$("Student added successfully!");
      };

      const handleUpdate = () => {
        setStudents(students.map(s => s.id === editForm.id ? { ...s, ...editForm, age:Number(editForm.age) } : s));
        setModal(null);
        toast$("Student record updated!");
      };

      const handleDelete = id => {
        setStudents(students.filter(s => s.id !== id));
        setModal(null);
        toast$("Student removed.","info");
      };

      const openAdd    = ()  => { setAddForm({ id:genId(), name:"", course:COURSES[0], year:YEAR_LEVELS[0], age:"" }); setModal("add"); };
      const openEdit   = s   => { setEditForm({ ...s }); setModal("edit"); };
      const openDelete = s   => { setSelected(s); setModal("delete"); };
      const openView   = s   => { setSelected(s); setModal("view"); };

      const filtered = students.filter(s =>
        s.id.toLowerCase().includes(search.toLowerCase()) ||
        s.name.toLowerCase().includes(search.toLowerCase())
      );

      /* â”€â”€ Shared style helpers â”€â”€ */
      const S = {
        input: {
          width:"100%", background:"rgba(255,255,255,0.05)",
          border:"1px solid rgba(255,255,255,0.1)", borderRadius:10,
          padding:"11px 14px", color:"#e8eaf6", fontSize:14,
          boxSizing:"border-box", fontFamily:"'Sora',sans-serif"
        },
        select: {
          width:"100%", background:"#0e1428",
          border:"1px solid rgba(255,255,255,0.1)", borderRadius:10,
          padding:"11px 14px", color:"#e8eaf6", fontSize:14,
          boxSizing:"border-box", fontFamily:"'Sora',sans-serif"
        },
        label: {
          display:"block", fontSize:11, fontWeight:700, color:"#4dabf7",
          letterSpacing:"1.2px", textTransform:"uppercase", marginBottom:7
        },
        primaryBtn: (grad) => ({
          width:"100%", padding:"13px", borderRadius:12, border:"none",
          background: grad || "linear-gradient(135deg,#00e5a0,#00b4d8)",
          color:"#07091a", fontWeight:800, fontSize:14,
          cursor:"pointer", fontFamily:"'Sora',sans-serif", letterSpacing:"0.3px"
        }),
        card: {
          background:"rgba(255,255,255,0.03)", backdropFilter:"blur(24px)",
          border:"1px solid rgba(255,255,255,0.08)", borderRadius:24,
          padding:"40px", width:"100%", maxWidth:420,
          boxShadow:"0 32px 80px rgba(0,0,0,0.5)"
        },
      };

      const fg = { marginBottom:16 };

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         LOGIN PAGE
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      if (page === "login") return (
        <div style={{
          minHeight:"100vh", display:"flex", alignItems:"center", justifyContent:"center",
          background:"radial-gradient(ellipse at 60% 40%,rgba(0,180,216,.12) 0%,transparent 60%),radial-gradient(ellipse at 20% 80%,rgba(0,229,160,.08) 0%,transparent 50%),#07091a"
        }}>
          <div style={{ ...S.card, animation:"scaleIn 0.4s ease" }}>
            {/* Logo */}
            <div style={{ textAlign:"center", marginBottom:32 }}>
              <div style={{ width:52, height:52, borderRadius:14, background:"linear-gradient(135deg,#00e5a0,#00b4d8)", margin:"0 auto 16px", display:"flex", alignItems:"center", justifyContent:"center", fontSize:24 }}>ğŸ“</div>
              <div style={{ fontSize:26, fontWeight:900, letterSpacing:"-1px", color:"#fff", marginBottom:4 }}>Welcome Back</div>
              <div style={{ fontSize:13, color:"#6b7a99" }}>Sign in to Student IMS Portal</div>
            </div>
            {/* Fields */}
            <div style={fg}>
              <label style={S.label}>Username</label>
              <input style={S.input} placeholder="Enter username" value={loginForm.username}
                onChange={e => setLoginForm({ ...loginForm, username:e.target.value })}
                onKeyDown={e => e.key==="Enter" && handleLogin()} />
            </div>
            <div style={{ ...fg, marginBottom:24 }}>
              <label style={S.label}>Password</label>
              <input style={S.input} type="password" placeholder="Enter password" value={loginForm.password}
                onChange={e => setLoginForm({ ...loginForm, password:e.target.value })}
                onKeyDown={e => e.key==="Enter" && handleLogin()} />
            </div>
            <button style={S.primaryBtn()} onClick={handleLogin}>Sign In</button>
            <div style={{ textAlign:"center", marginTop:20, fontSize:13, color:"#6b7a99" }}>
              No account?{" "}
              <button style={{ background:"none", border:"none", color:"#4dabf7", fontSize:13, cursor:"pointer", fontWeight:700 }}
                onClick={() => setPage("signup")}>Create one</button>
            </div>
            <div style={{ marginTop:20, padding:"12px 16px", background:"rgba(77,171,247,.08)", borderRadius:10, fontSize:12, color:"#4dabf7" }}>
              Demo â€” <strong>admin</strong> / <strong>admin123</strong>
            </div>
          </div>
          {toast && <Toast {...toast} onClose={() => setToast(null)} />}
        </div>
      );

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         SIGN-UP PAGE
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      if (page === "signup") return (
        <div style={{
          minHeight:"100vh", display:"flex", alignItems:"center", justifyContent:"center",
          background:"radial-gradient(ellipse at 40% 60%,rgba(99,102,241,.15) 0%,transparent 60%),#07091a"
        }}>
          <div style={{ ...S.card, animation:"scaleIn 0.4s ease" }}>
            <div style={{ textAlign:"center", marginBottom:32 }}>
              <div style={{ width:52, height:52, borderRadius:14, background:"linear-gradient(135deg,#a78bfa,#6366f1)", margin:"0 auto 16px", display:"flex", alignItems:"center", justifyContent:"center", fontSize:24 }}>âœ¨</div>
              <div style={{ fontSize:26, fontWeight:900, letterSpacing:"-1px", color:"#fff", marginBottom:4 }}>Create Account</div>
              <div style={{ fontSize:13, color:"#6b7a99" }}>Join the Student IMS Portal</div>
            </div>
            {[["Full Name","name","text","Your full name"],
              ["Username","username","text","Choose a username"],
              ["Password","password","password","Create a password"],
              ["Confirm Password","confirm","password","Re-enter password"]
            ].map(([lbl,key,type,ph]) => (
              <div key={key} style={fg}>
                <label style={S.label}>{lbl}</label>
                <input style={S.input} type={type} placeholder={ph}
                  value={signupForm[key]} onChange={e => setSignupForm({ ...signupForm, [key]:e.target.value })} />
              </div>
            ))}
            <button style={S.primaryBtn("linear-gradient(135deg,#a78bfa,#6366f1)")} onClick={handleSignup}>Create Account</button>
            <div style={{ textAlign:"center", marginTop:20, fontSize:13, color:"#6b7a99" }}>
              Already have an account?{" "}
              <button style={{ background:"none", border:"none", color:"#4dabf7", fontSize:13, cursor:"pointer", fontWeight:700 }}
                onClick={() => setPage("login")}>Sign in</button>
            </div>
          </div>
          {toast && <Toast {...toast} onClose={() => setToast(null)} />}
        </div>
      );

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         DASHBOARD
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      const avgAge     = students.length ? Math.round(students.reduce((a,s) => a+s.age, 0) / students.length) : 0;
      const courseCount= [...new Set(students.map(s => s.course))].length;

      return (
        <div style={{ minHeight:"100vh", background:"#07091a", color:"#e8eaf6", fontFamily:"'Sora',sans-serif" }}>

          {/* â”€â”€ NAVBAR â”€â”€ */}
          <nav style={{
            background:"rgba(10,15,35,0.97)", backdropFilter:"blur(16px)",
            borderBottom:"1px solid rgba(255,255,255,0.08)",
            padding:"0 32px", display:"flex", alignItems:"center",
            justifyContent:"space-between", height:64,
            position:"sticky", top:0, zIndex:100
          }}>
            {/* Brand */}
            <div style={{ display:"flex", alignItems:"center", gap:10, fontSize:18, fontWeight:800, letterSpacing:"-0.5px", color:"#fff" }}>
              <div style={{ width:10, height:10, borderRadius:"50%", background:"linear-gradient(135deg,#00e5a0,#00b4d8)" }} />
              Student <span style={{ color:"#00e5a0", marginLeft:4 }}>IMS</span>
            </div>

            {/* Tabs */}
            <div style={{ display:"flex", gap:4 }}>
              {[["list","ğŸ“‹ Students"],["search","ğŸ” Search"]].map(([t,l]) => (
                <button key={t} onClick={() => setTab(t)} style={{
                  padding:"8px 18px", borderRadius:8, border:"none", cursor:"pointer",
                  fontSize:13, fontWeight:600, letterSpacing:"0.3px",
                  background: tab===t ? "rgba(0,229,160,0.15)" : "transparent",
                  color:       tab===t ? "#00e5a0" : "#8892b0",
                  transition:"all 0.2s"
                }}>{l}</button>
              ))}
            </div>

            {/* User */}
            <div style={{ display:"flex", alignItems:"center", gap:12 }}>
              <div style={{ width:34, height:34, borderRadius:"50%", background:"linear-gradient(135deg,#00e5a0,#00b4d8)", display:"flex", alignItems:"center", justifyContent:"center", fontWeight:800, fontSize:13, color:"#07091a" }}>
                {currentUser?.name[0]?.toUpperCase()}
              </div>
              <span style={{ fontSize:13, fontWeight:600, color:"#c8d0e7" }}>{currentUser?.name}</span>
              <button onClick={() => { setCurrentUser(null); setPage("login"); setStudents(INITIAL_STUDENTS); }} style={{
                padding:"6px 14px", borderRadius:8, border:"1px solid rgba(255,75,99,0.3)",
                background:"transparent", color:"#ff4d6d", fontSize:12, fontWeight:700, cursor:"pointer"
              }}>Logout</button>
            </div>
          </nav>

          {/* â”€â”€ MAIN â”€â”€ */}
          <div style={{ maxWidth:1200, margin:"0 auto", padding:"32px 24px" }}>

            {/* Stats */}
            <div style={{ display:"flex", gap:16, marginBottom:32, flexWrap:"wrap" }}>
              {[
                ["Total Students",   students.length, "#00e5a0"],
                ["Courses Offered",  courseCount,     "#4dabf7"],
                ["Average Age",      avgAge,          "#ffd43b"],
                ["Active Records",   students.length, "#f783ac"],
              ].map(([label,val,accent]) => (
                <div key={label} style={{
                  flex:1, minWidth:140, background:"rgba(255,255,255,0.03)",
                  border:`1px solid ${accent}22`, borderRadius:18, padding:"20px 24px",
                  position:"relative", overflow:"hidden"
                }}>
                  <div style={{ fontSize:36, fontWeight:900, letterSpacing:"-2px", color:"#fff", lineHeight:1 }}>{val}</div>
                  <div style={{ fontSize:11, fontWeight:700, color:"#6b7a99", letterSpacing:"1.2px", textTransform:"uppercase", marginTop:4 }}>{label}</div>
                  <div style={{ position:"absolute", bottom:0, left:0, right:0, height:3, background:`linear-gradient(90deg,${accent},transparent)` }} />
                </div>
              ))}
            </div>

            {/* Toolbar */}
            <div style={{ display:"flex", gap:12, marginBottom:24, alignItems:"center", flexWrap:"wrap" }}>
              <div style={{ flex:1, minWidth:200, position:"relative" }}>
                <span style={{ position:"absolute", left:14, top:"50%", transform:"translateY(-50%)", fontSize:16, opacity:.5 }}>ğŸ”</span>
                <input value={search} onChange={e => setSearch(e.target.value)}
                  placeholder="Search by ID or Name..."
                  style={{ ...S.input, paddingLeft:42, background:"rgba(255,255,255,0.04)", borderRadius:12 }} />
              </div>
              <button onClick={openAdd} style={{
                padding:"11px 22px", borderRadius:12, border:"none",
                background:"linear-gradient(135deg,#00e5a0,#00b4d8)", color:"#07091a",
                fontWeight:800, fontSize:13, cursor:"pointer", fontFamily:"'Sora',sans-serif"
              }}>+ Add Student</button>
            </div>

            {/* Table */}
            <div style={{ background:"rgba(255,255,255,0.02)", borderRadius:20, border:"1px solid rgba(255,255,255,0.06)", overflow:"hidden" }}>
              <div style={{ padding:"16px 24px", borderBottom:"1px solid rgba(255,255,255,0.06)", display:"flex", justifyContent:"space-between", alignItems:"center" }}>
                <span style={{ fontWeight:800, fontSize:15, color:"#fff" }}>Student Records</span>
                <span style={{ fontSize:12, color:"#6b7a99" }}>{filtered.length} record{filtered.length!==1?"s":""} found</span>
              </div>
              <div style={{ overflowX:"auto" }}>
                <table style={{ width:"100%", borderCollapse:"separate", borderSpacing:"0 6px" }}>
                  <thead>
                    <tr>
                      {["Student ID","Full Name","Course","Year Level","Age","Actions"].map(h => (
                        <th key={h} style={{ padding:"12px 16px", textAlign:"left", fontSize:11, fontWeight:700, color:"#4dabf7", letterSpacing:"1.2px", textTransform:"uppercase" }}>{h}</th>
                      ))}
                    </tr>
                  </thead>
                  <tbody>
                    {filtered.length === 0 ? (
                      <tr><td colSpan={6} style={{ textAlign:"center", padding:"60px 20px", color:"#6b7a99" }}>
                        <div style={{ fontSize:40, marginBottom:10 }}>ğŸ“</div>
                        <div style={{ fontWeight:700, color:"#4dabf7" }}>No students found</div>
                        <div style={{ fontSize:12, marginTop:4 }}>Try a different search or add a new student</div>
                      </td></tr>
                    ) : filtered.map(s => (
                      <tr key={s.id}>
                        <td style={{ padding:"14px 16px", fontSize:13, color:"#c8d0e7", borderTop:"1px solid rgba(255,255,255,0.04)", borderBottom:"1px solid rgba(255,255,255,0.04)", borderLeft:"1px solid rgba(255,255,255,0.04)", borderRadius:"12px 0 0 12px" }}>
                          <span style={{ fontFamily:"monospace", fontSize:12, color:"#4dabf7", fontWeight:700 }}>{s.id}</span>
                        </td>
                        <td style={{ padding:"14px 16px", fontSize:13, color:"#c8d0e7", borderTop:"1px solid rgba(255,255,255,0.04)", borderBottom:"1px solid rgba(255,255,255,0.04)" }}>
                          <span style={{ fontWeight:700, color:"#fff" }}>{s.name}</span>
                        </td>
                        <td style={{ padding:"14px 16px", fontSize:13, color:"#c8d0e7", borderTop:"1px solid rgba(255,255,255,0.04)", borderBottom:"1px solid rgba(255,255,255,0.04)" }}>
                          <span style={{ fontSize:12, color:"#8892b0" }}>{s.course}</span>
                        </td>
                        <td style={{ padding:"14px 16px", fontSize:13, color:"#c8d0e7", borderTop:"1px solid rgba(255,255,255,0.04)", borderBottom:"1px solid rgba(255,255,255,0.04)" }}>
                          <span style={{ display:"inline-block", padding:"3px 10px", borderRadius:20, fontSize:11, fontWeight:700, background:`${YEAR_COLORS[s.year]||"#00e5a0"}18`, color:YEAR_COLORS[s.year]||"#00e5a0" }}>{s.year}</span>
                        </td>
                        <td style={{ padding:"14px 16px", fontSize:13, color:"#c8d0e7", borderTop:"1px solid rgba(255,255,255,0.04)", borderBottom:"1px solid rgba(255,255,255,0.04)" }}>{s.age}</td>
                        <td style={{ padding:"14px 16px", fontSize:13, color:"#c8d0e7", borderTop:"1px solid rgba(255,255,255,0.04)", borderBottom:"1px solid rgba(255,255,255,0.04)", borderRight:"1px solid rgba(255,255,255,0.04)", borderRadius:"0 12px 12px 0" }}>
                          <button onClick={() => openView(s)}   style={{ background:"rgba(77,171,247,.15)",  border:"none", borderRadius:8, padding:"7px 10px", cursor:"pointer", color:"#4dabf7",  fontSize:13, margin:"0 2px" }} title="View">ğŸ‘</button>
                          <button onClick={() => openEdit(s)}   style={{ background:"rgba(0,229,160,.15)",   border:"none", borderRadius:8, padding:"7px 10px", cursor:"pointer", color:"#00e5a0", fontSize:13, margin:"0 2px" }} title="Edit">âœï¸</button>
                          <button onClick={() => openDelete(s)} style={{ background:"rgba(255,77,109,.15)",  border:"none", borderRadius:8, padding:"7px 10px", cursor:"pointer", color:"#ff4d6d", fontSize:13, margin:"0 2px" }} title="Delete">ğŸ—‘</button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          {/* â•â• MODALS â•â• */}
          {modal && (
            <div style={{ position:"fixed", inset:0, background:"rgba(0,0,0,0.75)", zIndex:1000, display:"flex", alignItems:"center", justifyContent:"center", padding:20, animation:"fadeIn 0.2s" }}
              onClick={e => e.target === e.currentTarget && setModal(null)}>
              <div style={{ background:"#0e1428", border:"1px solid rgba(255,255,255,0.1)", borderRadius:24, padding:32, width:"100%", maxWidth:480, boxShadow:"0 32px 80px rgba(0,0,0,0.6)", animation:"scaleIn 0.25s ease" }}>

                {/* ADD MODAL */}
                {modal === "add" && <>
                  <div style={{ fontSize:20, fontWeight:900, color:"#fff", marginBottom:4 }}>â• Add New Student</div>
                  <div style={{ fontSize:12, color:"#6b7a99", marginBottom:24 }}>Fill in the student's information below</div>
                  {[["Student ID","id","text","e.g. 2024-0001"],["Full Name","name","text","Student full name"],["Age","age","number","Age"]].map(([lbl,key,type,ph]) => (
                    <div key={key} style={fg}>
                      <label style={S.label}>{lbl}</label>
                      <input style={S.input} type={type} placeholder={ph} value={addForm[key]} onChange={e => setAddForm({ ...addForm, [key]:e.target.value })} />
                    </div>
                  ))}
                  <div style={fg}>
                    <label style={S.label}>Course</label>
                    <select style={S.select} value={addForm.course} onChange={e => setAddForm({ ...addForm, course:e.target.value })}>
                      {COURSES.map(c => <option key={c}>{c}</option>)}
                    </select>
                  </div>
                  <div style={fg}>
                    <label style={S.label}>Year Level</label>
                    <select style={S.select} value={addForm.year} onChange={e => setAddForm({ ...addForm, year:e.target.value })}>
                      {YEAR_LEVELS.map(y => <option key={y}>{y}</option>)}
                    </select>
                  </div>
                  <div style={{ display:"flex", gap:10, marginTop:24 }}>
                    <button onClick={() => setModal(null)} style={{ flex:1, padding:12, borderRadius:12, border:"1px solid rgba(255,255,255,0.1)", background:"transparent", color:"#8892b0", fontWeight:700, cursor:"pointer", fontFamily:"'Sora',sans-serif" }}>Cancel</button>
                    <button onClick={handleAdd} style={{ flex:1, padding:12, borderRadius:12, border:"none", background:"linear-gradient(135deg,#00e5a0,#00b4d8)", color:"#07091a", fontWeight:800, cursor:"pointer", fontFamily:"'Sora',sans-serif" }}>Add Student</button>
                  </div>
                </>}

                {/* EDIT MODAL */}
                {modal === "edit" && <>
                  <div style={{ fontSize:20, fontWeight:900, color:"#fff", marginBottom:4 }}>âœï¸ Edit Student</div>
                  <div style={{ fontSize:12, color:"#6b7a99", marginBottom:24 }}>Updating record for <strong style={{ color:"#4dabf7" }}>{editForm.name}</strong></div>
                  <div style={fg}>
                    <label style={S.label}>Age</label>
                    <input style={S.input} type="number" value={editForm.age} onChange={e => setEditForm({ ...editForm, age:e.target.value })} />
                  </div>
                  <div style={fg}>
                    <label style={S.label}>Course</label>
                    <select style={S.select} value={editForm.course} onChange={e => setEditForm({ ...editForm, course:e.target.value })}>
                      {COURSES.map(c => <option key={c}>{c}</option>)}
                    </select>
                  </div>
                  <div style={fg}>
                    <label style={S.label}>Year Level</label>
                    <select style={S.select} value={editForm.year} onChange={e => setEditForm({ ...editForm, year:e.target.value })}>
                      {YEAR_LEVELS.map(y => <option key={y}>{y}</option>)}
                    </select>
                  </div>
                  <div style={{ display:"flex", gap:10, marginTop:24 }}>
                    <button onClick={() => setModal(null)} style={{ flex:1, padding:12, borderRadius:12, border:"1px solid rgba(255,255,255,0.1)", background:"transparent", color:"#8892b0", fontWeight:700, cursor:"pointer", fontFamily:"'Sora',sans-serif" }}>Cancel</button>
                    <button onClick={handleUpdate} style={{ flex:1, padding:12, borderRadius:12, border:"none", background:"linear-gradient(135deg,#00e5a0,#00b4d8)", color:"#07091a", fontWeight:800, cursor:"pointer", fontFamily:"'Sora',sans-serif" }}>Save Changes</button>
                  </div>
                </>}

                {/* DELETE MODAL */}
                {modal === "delete" && <>
                  <div style={{ textAlign:"center" }}>
                    <div style={{ fontSize:48, marginBottom:16 }}>âš ï¸</div>
                    <div style={{ fontSize:20, fontWeight:900, color:"#fff", marginBottom:8 }}>Remove Student?</div>
                    <div style={{ fontSize:13, color:"#6b7a99", marginBottom:24 }}>
                      You're about to permanently delete <strong style={{ color:"#ff4d6d" }}>{selected?.name}</strong>'s record. This cannot be undone.
                    </div>
                    <div style={{ display:"flex", gap:10 }}>
                      <button onClick={() => setModal(null)} style={{ flex:1, padding:12, borderRadius:12, border:"1px solid rgba(255,255,255,0.1)", background:"transparent", color:"#8892b0", fontWeight:700, cursor:"pointer", fontFamily:"'Sora',sans-serif" }}>Keep Student</button>
                      <button onClick={() => handleDelete(selected.id)} style={{ flex:1, padding:12, borderRadius:12, border:"none", background:"linear-gradient(135deg,#ff4d6d,#c9184a)", color:"#fff", fontWeight:800, cursor:"pointer", fontFamily:"'Sora',sans-serif" }}>Yes, Remove</button>
                    </div>
                  </div>
                </>}

                {/* VIEW MODAL */}
                {modal === "view" && selected && <>
                  <div style={{ display:"flex", alignItems:"center", gap:16, marginBottom:24 }}>
                    <div style={{ width:52, height:52, borderRadius:14, background:"linear-gradient(135deg,#00e5a0,#00b4d8)", display:"flex", alignItems:"center", justifyContent:"center", fontSize:22, fontWeight:900, color:"#07091a" }}>
                      {selected.name[0]}
                    </div>
                    <div>
                      <div style={{ fontWeight:900, fontSize:18, color:"#fff" }}>{selected.name}</div>
                      <div style={{ fontSize:12, color:"#4dabf7", fontFamily:"monospace" }}>{selected.id}</div>
                    </div>
                  </div>
                  {[["Course",selected.course],["Year Level",selected.year],["Age",selected.age+" years old"]].map(([l,v]) => (
                    <div key={l} style={{ display:"flex", justifyContent:"space-between", padding:"12px 0", borderBottom:"1px solid rgba(255,255,255,0.06)" }}>
                      <span style={{ fontSize:11, fontWeight:700, color:"#4dabf7", letterSpacing:"1px", textTransform:"uppercase" }}>{l}</span>
                      <span style={{ fontSize:14, fontWeight:600, color:"#e8eaf6" }}>{v}</span>
                    </div>
                  ))}
                  <button onClick={() => setModal(null)} style={{ width:"100%", marginTop:24, padding:12, borderRadius:12, border:"1px solid rgba(255,255,255,0.1)", background:"transparent", color:"#8892b0", fontWeight:700, cursor:"pointer", fontFamily:"'Sora',sans-serif" }}>Close</button>
                </>}

              </div>
            </div>
          )}

          {toast && <Toast {...toast} onClose={() => setToast(null)} />}
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>